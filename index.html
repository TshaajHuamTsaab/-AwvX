<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>è±¡å¾å¿—ä¸‰æ®µå¿—</title>
<style>
body {
  margin: 0;
  font-family: "Microsoft YaHei", sans-serif;
  background: black;
  color: white;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 100vh;
  overflow: hidden;
}
h1 { margin-bottom: 20px; font-size: 3em; color: #3399FF; }
.line {
  margin: 15px 0;
  text-align: center;
}
.highlight {
  color: gold;
  font-weight: bold;
  background: rgba(255, 215, 0, 0.2);
  display: inline-block;
  padding: 2px 5px;
}
.controls {
  position: absolute;
  bottom: 20px;
}
button {
  margin: 10px;
  padding: 15px 30px;
  border: none;
  border-radius: 10px;
  font-size: 1.2em;
  cursor: pointer;
  font-weight: bold;
}
#playBtn { background: royalblue; color: white; }
#stopBtn { background: crimson; color: white; }
.navBtn { background: seagreen; color: white; }
#switchBtn { background: orange; color: black; }
#successBtn {
  display: none;
  position: absolute;
  top: 20px;
  font-size: 1.5em;
  background: gold;
  color: black;
  font-weight: bold;
  padding: 10px 20px;
  border-radius: 8px;
}
#fontControls {
  position: absolute;
  bottom: 20px;
  left: 20px;
}
#fontControls button {
  width: 50px;
  height: 50px;
  font-size: 1.5em;
  padding: 0;
  margin: 5px;
}
#explainBtn {
  position: absolute;
  top: 20px;
  right: 20px;
  font-size: 1.3em;
  padding: 10px 20px;
  font-weight: bold;
  border-radius: 10px;
  border: none;
  cursor: pointer;
  background: linear-gradient(90deg, red, orange, yellow, green, blue, indigo, violet);
  background-size: 400% 100%;
  color: white;
  animation: rainbow 4s linear infinite;
}
@keyframes rainbow {
  0% {background-position:0% 50%;}
  50% {background-position:100% 50%;}
  100% {background-position:0% 50%;}
}
canvas {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  z-index: -1;
}
#explanationBox {
  display: none;
  position: absolute;
  top: 80px;
  right: 20px;
  width: 400px;
  max-height: 70vh;
  overflow-y: auto;
  background: rgba(0,0,0,0.85);
  color: white;
  border-radius: 10px;
  padding: 20px;
  font-size: 1.1em;
  line-height: 1.6em;
}
.greenText { color: #00FF00; font-weight: bold; }
.redText { color: #FF3333; font-weight: bold; }
.blueText { color: #3399FF; font-weight: bold; font-size:1.3em; }
</style>
</head>
<body>
<canvas id="space"></canvas>
<h1 id="title">è¿‡å»</h1>
<div id="text"></div>

<div class="controls">
  <button class="navBtn" onclick="prevPage()">ä¸Šä¸€é¡µ</button>
  <button id="playBtn" onclick="playText()">æ’­æ”¾æœ—è¯»</button>
  <button id="stopBtn" onclick="stopText()">åœæ­¢æœ—è¯»</button>
  <button class="navBtn" onclick="nextPage()">ä¸‹ä¸€é¡µ</button>
  <button id="switchBtn" class="navBtn" onclick="switchOrder()">åˆ‡æ¢é¡ºåº</button>
</div>

<div id="fontControls">
  <button onclick="changeFontSize(2)">+</button>
  <button onclick="changeFontSize(-2)">-</button>
</div>

<button id="successBtn">ç¥ä½ æˆåŠŸğŸ†</button>
<button id="explainBtn" onclick="toggleExplanation()">è§£é‡Šç»æ–‡</button>

<div id="explanationBox">
  <p><span class="blueText">è¿‡å»ï¼š</span><span class="redText">åæ€ç»å†è¿‡å»çš„äº‹æƒ…è¯¥æŒ‰ç…§ä½¿ç”¨çš„åŸåˆ™</span></p>
  <p><span class="greenText">â€œåˆå¿ƒæ˜¯å¦çœŸè¯šï¼Œä¸ä¸ºè™šè£å·¦å³ã€‚â€</span><br>
  é¦–å…ˆè¦é—®è‡ªå·±ï¼šæœ€åˆçš„ç›®æ ‡å’ŒåŠ¨æœºæ˜¯å¦çº¯æ­£ï¼Ÿä½ è¿½æ±‚çš„æ˜¯çœŸæ­£æƒ³åšçš„äº‹æƒ…ï¼Œè¿˜æ˜¯ä¸ºäº†é¢å­ã€ååˆ©æˆ–è™šè£ï¼Ÿ<br>
  é‡ç‚¹æ˜¯ä¿æŒå†…å¿ƒçš„çœŸè¯šå’Œæ¸…é†’ï¼Œä¸è¢«å¤–ç•Œçš„æµ®åå¹²æ‰°ã€‚</p>

  <p><span class="greenText">â€œå¿—è¡Œæ˜¯å¦ä¸€è‡´ï¼Œè¡ŒåŠ¨é…å¾—å¿—ã€‚â€</span><br>
  ä½ çš„è¡Œä¸ºæ˜¯å¦çœŸæ­£ä¸å¿—å‘ç›¸ç¬¦ï¼Ÿè¯´åˆ°åšåˆ°ï¼Œè¡ŒåŠ¨æ˜¯å¦åœ¨æ”¯æ’‘ä½ çš„ç†æƒ³ï¼Ÿ<br>
  æ„æ€æ˜¯ï¼šç†æƒ³å¿…é¡»è½å®åˆ°å…·ä½“è¡ŒåŠ¨ä¸Šï¼Œå¦åˆ™åªåœç•™åœ¨ç©ºæƒ³ã€‚</p>

  <p><span class="greenText">â€œå¾—å¤±èƒ½å¦æ€»ç»“ï¼Œé”™è¯¯åŒ–ä¸ºåŠ›ã€‚â€</span><br>
  æ¯ä¸€æ¬¡æˆåŠŸæˆ–å¤±è´¥ä¹‹åï¼Œä½ æ˜¯å¦èƒ½å¤Ÿæ€»ç»“ç»éªŒã€åæ€å¾—å¤±ï¼Ÿ<br>
  é”™è¯¯ä¸æ˜¯ç»ˆç‚¹ï¼Œè€Œæ˜¯æˆé•¿çš„æœºä¼šï¼ŒæŠŠå®ƒè½¬åŒ–ä¸ºæ”¹è¿›å’Œè¿›æ­¥çš„åŠ¨åŠ›ã€‚</p>

  <p><span class="greenText">â€œå¿—å‘æ˜¯å¦å…¼é¡¾ï¼Œä¸æŸä»–äººåˆ©ã€‚â€</span><br>
  è¿½æ±‚è‡ªå·±çš„ç›®æ ‡æ—¶ï¼Œæ˜¯å¦è€ƒè™‘åˆ°ä»–äººçš„åˆ©ç›Šï¼Ÿæ˜¯å¦åšåˆ°ä¸ä»¥ç‰ºç‰²ä»–äººä¸ºä»£ä»·ï¼Ÿ<br>
  æ„æ€æ˜¯ï¼šç†æƒ³ä¸è¡ŒåŠ¨éƒ½è¦æœ‰é“å¾·å’Œå…¬å¹³çš„è€ƒé‡ï¼Œè¿½æ±‚çš„ç›®æ ‡ä¸èƒ½ä¼¤å®³åˆ«äººã€‚</p>

  <p><span class="greenText">â€œå¿—æ„¿æ˜¯å¦é€‚æ—¶ï¼Œç¯å¢ƒèƒ½ç›¸åˆã€‚â€</span><br>
  ä½ çš„å¿—æ„¿ã€è®¡åˆ’æˆ–ç›®æ ‡æ˜¯å¦åœ¨æ°å½“çš„æ—¶é—´æå‡ºï¼Ÿæ˜¯å¦ç¬¦åˆç°å®ç¯å¢ƒå’Œæ¡ä»¶ï¼Ÿ<br>
  æ„æ€æ˜¯ï¼šæœ‰å†å¥½çš„å¿—å‘ï¼Œä¹Ÿéœ€è¦è€ƒè™‘æ—¶æœºå’Œç¯å¢ƒï¼Œé¡ºåŠ¿è€Œä¸ºæ‰å®¹æ˜“å®ç°ã€‚</p>

  <p><span class="blueText">ç°åœ¨ï¼š</span><span class="redText">ç°å®ï¼Œè‡ªå·±è¿˜åœ¨è¿‡ç€è¿˜åœ¨æŒæ¡ç€çš„äº‹æƒ…è¯¥åšçš„åŸåˆ™</span></p>
  <p><span class="greenText">â€œæ˜ç¡®æ–¹å‘ä¸“æ³¨ï¼Œä¸éšæ½®æµæ‘‡æ‘†ã€‚â€</span><br>
  ä½ éœ€è¦æ¸…æ¥šè‡ªå·±çš„ç›®æ ‡ï¼Œä¸“æ³¨äºè‡ªå·±çš„æ–¹å‘ï¼Œä¸è¢«å‘¨å›´æµè¡Œè¶‹åŠ¿æˆ–ä»–äººæ„è§è½»æ˜“å½±å“ã€‚<br>
  æ„æ€æ˜¯ï¼šåšæŒè‡ªå·±çš„è·¯çº¿ï¼Œä¿æŒç‹¬ç«‹åˆ¤æ–­åŠ›ï¼Œä¸ç›²ç›®éšæ³¢é€æµã€‚</p>

  <p><span class="greenText">â€œç«‹è¶³å½“ä¸‹è¡ŒåŠ¨ï¼Œä¸æ‹–å»¶ç©ºå¹»æƒ³ã€‚â€</span><br>
  å¼ºè°ƒè¡ŒåŠ¨åŠ›ï¼šæŠŠæ³¨æ„åŠ›æ”¾åœ¨å½“å‰èƒ½åšçš„äº‹æƒ…ä¸Šï¼Œé¿å…ç©ºæƒ³æˆ–ä¸€å‘³ç­‰å¾…æœºä¼šã€‚<br>
  æ„æ€æ˜¯ï¼šç°å®è¡ŒåŠ¨æ¯”å¹»æƒ³æ›´é‡è¦ï¼Œè¸å®åšäº‹æ‰èƒ½æ¨è¿›ç›®æ ‡ã€‚</p>

  <p><span class="greenText">â€œä¿®å…»å“å¾·å¿ƒå¢ƒï¼Œå¿—ä¸ç¦»äºå¾·ã€‚â€</span><br>
  æ„æ€æ˜¯ï¼šä¸ªäººä¿®å…»ã€å“å¾·å’Œå†…å¿ƒçŠ¶æ€è¦ä¿æŒè‰¯å¥½ï¼Œè¿½æ±‚ç›®æ ‡æ—¶ä¸èƒ½è¿èƒŒé“å¾·åŸåˆ™ã€‚<br>
  ç›®æ ‡ä¸å“å¾·è¦åè°ƒï¼ŒçœŸæ­£çš„å¿—å‘åº”å»ºç«‹åœ¨å¾·è¡Œä¹‹ä¸Šã€‚</p>

  <p><span class="greenText">â€œå¹¿ç»“å–„ç¼˜åŠ©äººï¼Œè¡Œè·¯æœ‰äººæ‰¶ã€‚â€</span><br>
  å»ºè®®ä½ åœ¨äººé™…å…³ç³»ä¸­ç§¯æç»“å–„ç¼˜ï¼Œå¸®åŠ©ä»–äººã€‚<br>
  æ„æ€æ˜¯ï¼šç§¯ç´¯å–„ç¼˜ä¸ä»…åˆ©ä»–ï¼Œä¹Ÿä¼šåœ¨ä½ é‡åˆ°å›°éš¾æ—¶æœ‰äººæ”¯æŒï¼Œä½“ç°â€œäººé™…äº’åŠ©â€çš„æ™ºæ…§ã€‚</p>

  <p><span class="greenText">â€œä¸æƒ§å›°éš¾åšæŒï¼Œç§¯ç´¯ç»ˆæœ‰æˆã€‚â€</span><br>
  æé†’ä½ ï¼šé¢å¯¹æŒ‘æˆ˜å’Œå›°éš¾ä¸è¦é€€ç¼©ï¼ŒåšæŒä¸æ‡ˆåœ°ç§¯ç´¯ç»éªŒå’ŒåŠªåŠ›ã€‚<br>
  æ„æ€æ˜¯ï¼šæŒç»­åŠªåŠ›ç»ˆä¼šæœ‰æ”¶è·ï¼ŒæˆåŠŸæ˜¯ç§¯ç´¯çš„ç»“æœã€‚</p>

  <p><span class="redText">è¡ŒåŠ¨ä¸ä¿®å…»çš„æˆé•¿è·¯çº¿ï¼šæ˜ç¡®æ–¹å‘ â†’ ç«‹è¶³å½“ä¸‹ â†’ ä¿®å…»å“å¾· â†’ å–„å¾…ä»–äºº â†’ åšæŒç§¯ç´¯ â†’ æˆå°±ç›®æ ‡ã€‚</span></p>

  <p><span class="blueText">æœªæ¥ï¼š</span><span class="redText">æ€è€ƒè§„åˆ’å¥½è‡ªå·±çš„äººç”Ÿæœªæ¥ä»¥åæ— æ‡Šæ¼ï¼</span></p>
  <p><span class="greenText">â€œå¿—æ„¿é•¿è¿œè§„åˆ’ï¼Œä¸å›°äºä¸€æ—¶ã€‚â€</span><br>
  æ„æ€æ˜¯ï¼šåˆ¶å®šç›®æ ‡å’Œå¿—å‘æ—¶ï¼Œè¦æœ‰é•¿è¿œçœ¼å…‰ï¼Œä¸è¢«çœ¼å‰çš„å¾—å¤±æˆ–çŸ­æœŸå›°éš¾æ‰€æŸç¼šã€‚<br>
  å¼ºè°ƒæˆ˜ç•¥æ€§æ€ç»´ä¸è€å¿ƒï¼Œç›®å…‰æ”¾è¿œæ‰èƒ½ç¨³æ­¥å‘å±•ã€‚</p>

  <p><span class="greenText">â€œä¼ æ‰¿ç²¾ç¥ä»·å€¼ï¼Œä¸åªä¸ºå·±ã€‚â€</span><br>
  ä½ çš„åŠªåŠ›ä¸ä»…æ˜¯ä¸ºäº†ä¸ªäººåˆ©ç›Šï¼Œè¿˜åº”è€ƒè™‘ä¼ æ‰¿ç²¾ç¥ã€æ–‡åŒ–æˆ–æ­£é¢ä»·å€¼ã€‚<br>
  å¼ºè°ƒä½¿å‘½æ„Ÿå’Œç¤¾ä¼šè´£ä»»ï¼Œè®©è¡ŒåŠ¨æœ‰æ›´é«˜å±‚æ¬¡çš„æ„ä¹‰ã€‚</p>

  <p><span class="greenText">â€œç§¯ç´¯æ™ºæ…§ç»éªŒï¼Œæƒ æ³½åä»£ã€‚â€</span><br>
  ä¸ä»…å…³æ³¨è‡ªå·±çš„æˆé•¿ï¼Œä¹Ÿè¦ç§¯ç´¯çŸ¥è¯†å’Œç»éªŒï¼Œèƒ½å¤Ÿå¸®åŠ©åäººæˆ–ä¸‹ä¸€ä»£å—ç›Šã€‚<br>
  æ„æ€æ˜¯ï¼šä¸ªäººä»·å€¼æœ€ç»ˆä½“ç°ä¸ºå¯¹ç¤¾ä¼šæˆ–åä»£çš„è´¡çŒ®ã€‚</p>

  <p><span class="greenText">â€œå¿ƒæ€€å®½å¹¿èƒ¸è¥Ÿï¼Œå®¹çº³ä¸åŒã€‚â€</span><br>
  è¦æœ‰å¼€é˜”çš„å¿ƒæ€ï¼Œèƒ½å¤ŸåŒ…å®¹ä¸åŒçš„è§‚ç‚¹ã€æ„è§å’Œæ–‡åŒ–ã€‚<br>
  æ„æ€æ˜¯ï¼šå®½å®¹å’Œç†è§£ä»–äººï¼Œä½¿äººé™…å…³ç³»æ›´å’Œè°ï¼Œä¹Ÿåˆ©äºé•¿æœŸå‘å±•ã€‚</p>

  <p><span class="greenText">â€œä¿æŒç»ˆèº«å­¦ä¹ ï¼Œä¸åœäºæˆã€‚â€</span><br>
  ç›®æ ‡é•¿è¿œ â†’ è¶…è¶Šè‡ªæˆ‘ â†’ ç§¯ç´¯æ™ºæ…§ â†’ å®½å®¹åŒ…å®¹ â†’ æŒç»­å­¦ä¹ <br>
  å¼ºè°ƒæŒç»­å­¦ä¹ çš„é‡è¦æ€§ï¼Œä¸å› å·²æœ‰æˆå°±è€Œåœä¸‹è„šæ­¥ã€‚<br>
  æ„æ€æ˜¯ï¼šæˆé•¿æ˜¯ç»ˆèº«çš„è¿‡ç¨‹ï¼Œæ°¸è¿œä¿æŒå­¦ä¹ ä¸è¿›æ­¥çš„å¿ƒæ€ã€‚</p>
</div>

<script>
// ---------- æ–‡æœ¬æ•°æ®å’ŒåŠŸèƒ½ ----------
let pages = [
  { title: "è¿‡å»", lines: ["åˆå¿ƒæ˜¯å¦çœŸè¯šï¼Œä¸ä¸ºè™šè£å·¦å³ã€‚","å¿—è¡Œæ˜¯å¦ä¸€è‡´ï¼Œè¡ŒåŠ¨é…å¾—å¿—ã€‚","å¾—å¤±èƒ½å¦æ€»ç»“ï¼Œé”™è¯¯åŒ–ä¸ºåŠ›ã€‚","å¿—å‘æ˜¯å¦å…¼é¡¾ï¼Œä¸æŸä»–äººåˆ©ã€‚","å¿—æ„¿æ˜¯å¦é€‚æ—¶ï¼Œç¯å¢ƒèƒ½ç›¸åˆã€‚"] },
  { title: "ç°åœ¨", lines: ["æ˜ç¡®æ–¹å‘ä¸“æ³¨ï¼Œä¸éšæ½®æµæ‘‡æ‘†ã€‚","ç«‹è¶³å½“ä¸‹è¡ŒåŠ¨ï¼Œä¸æ‹–å»¶ç©ºå¹»æƒ³ã€‚","ä¿®å…»å“å¾·å¿ƒå¢ƒï¼Œå¿—ä¸ç¦»äºå¾·ã€‚","å¹¿ç»“å–„ç¼˜åŠ©äººï¼Œè¡Œè·¯æœ‰äººæ‰¶ã€‚","ä¸æƒ§å›°éš¾åšæŒï¼Œç§¯ç´¯ç»ˆæœ‰æˆã€‚"] },
  { title: "æœªæ¥", lines: ["å¿—æ„¿é•¿è¿œè§„åˆ’ï¼Œä¸å›°äºä¸€æ—¶ã€‚","ä¼ æ‰¿ç²¾ç¥ä»·å€¼ï¼Œä¸åªä¸ºå·±ã€‚","ç§¯ç´¯æ™ºæ…§ç»éªŒï¼Œæƒ æ³½åä»£ã€‚","å¿ƒæ€€å®½å¹¿èƒ¸è¥Ÿï¼Œå®¹çº³ä¸åŒã€‚","ä¿æŒç»ˆèº«å­¦ä¹ ï¼Œä¸åœäºæˆã€‚"] }
];
let currentPage = 0;
let container = document.getElementById("text");
let title = document.getElementById("title");
let reading = false;
let synth = window.speechSynthesis;
let utterance;
let allLines;
let topToBottom = true;
let fontSize = 2;

function renderText() {
  container.innerHTML = "";
  title.textContent = pages[currentPage].title;
  let lines = topToBottom ? pages[currentPage].lines : [...pages[currentPage].lines].reverse();
  lines.forEach(line => {
    let div = document.createElement("div");
    div.className = "line";
    div.style.fontSize = fontSize + "em";
    div.textContent = line;
    container.appendChild(div);
  });
}
renderText();

function nextPage(){if(currentPage<pages.length-1){currentPage++;renderText();}}
function prevPage(){if(currentPage>0){currentPage--;renderText();}}
function switchOrder(){topToBottom = !topToBottom; renderText();}
function changeFontSize(delta){fontSize+=delta;if(fontSize<0.5)fontSize=0.5;renderText();}

// ---------- æœ—è¯»åŠŸèƒ½ ----------
function playText(){
  stopText();
  reading=true;
  let currentLine=0;
  allLines = container.querySelectorAll(".line");
  function speakNextLine(){
    if(!reading) return;
    if(currentLine>=allLines.length){
      if(currentPage<pages.length-1){currentPage++;renderText();currentLine=0;allLines=container.querySelectorAll(".line");speakNextLine();}
      else{document.getElementById("successBtn").style.display="block";return;}
    }
    let lineDiv=allLines[currentLine];
    let lineText=lineDiv.textContent;
    utterance=new SpeechSynthesisUtterance(lineText);
    utterance.lang="zh-CN";
    utterance.rate=0.9;
    utterance.pitch=1;
    let voices = synth.getVoices();
    let female = voices.find(v=>v.lang==="zh-CN"&&/female|huihui|xiaoxiao/i.test(v.name));
    if(female) utterance.voice=female;
    lineDiv.classList.add("highlight");
    utterance.onend=()=>{lineDiv.classList.remove("highlight");currentLine++;speakNextLine();}
    synth.speak(utterance);
  }
  speakNextLine();
}
function stopText(){reading=false;if(synth.speaking)synth.cancel();container.querySelectorAll(".line").forEach(s=>s.classList.remove("highlight"));}

// ---------- è§£é‡Šç»æ–‡ ----------
function toggleExplanation(){
  let box = document.getElementById("explanationBox");
  box.style.display = box.style.display==="block"?"none":"block";
}

// ---------- èƒŒæ™¯å®‡å®™åŠ¨ç”» ----------
let canvas=document.getElementById("space");
let ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;
let stars=Array.from({length:200},()=>({x:Math.random()*canvas.width,y:Math.random()*canvas.height,r:Math.random()*1.5,o:Math.random()}));
let satellites=[];
function drawEarth(){let earthX=canvas.width*0.8,earthY=canvas.height*0.8,radius=120;let gradient=ctx.createRadialGradient(earthX-30,earthY-30,50,earthX,earthY,radius);gradient.addColorStop(0,"#1E90FF");gradient.addColorStop(1,"#001f3f");ctx.beginPath();ctx.arc(earthX,earthY,radius,0,Math.PI*2);ctx.fillStyle=gradient;ctx.fill();}
function drawStars(){stars.forEach(s=>{ctx.beginPath();ctx.arc(s.x,s.y,s.r,0,Math.PI*2);ctx.fillStyle=`rgba(255,255,255,${Math.abs(Math.sin(Date.now()/1000+s.o))})`;ctx.fill();});}
function drawSatellites(){satellites.forEach((sat,i)=>{ctx.save();ctx.translate(sat.x,sat.y);ctx.rotate(sat.angle);ctx.fillStyle="lightgray";ctx.fillRect(-10,-5,20,10);ctx.fillStyle="silver";ctx.fillRect(-20,-2,40,4);ctx.restore();sat.x+=sat.vx;sat.y+=sat.vy;sat.life-=1;if(sat.life<=0)satellites.splice(i,1);});}
function loop(){ctx.clearRect(0,0,canvas.width,canvas.height);drawStars();drawEarth();drawSatellites();if(Math.random()<0.01){satellites.push({x:-50,y:100+Math.random()*canvas.height/2,vx:3,vy:0.5,angle:Math.random()*Math.PI,life:150});}requestAnimationFrame(loop);}
loop();
window.addEventListener("resize",()=>{canvas.width=window.innerWidth;canvas.height=window.innerHeight;});
</script>
</body>
</html>

